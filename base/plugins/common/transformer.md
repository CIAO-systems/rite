# Generic
This transformer is returned, when the `name` is empty. It contains several 
field modifiers.
```xml
    <!-- ... -->
            <transformers>
                <transformer plugin="common">
                    <!-- Configuration goes here -->
                </transformer>
            </transformers>
    <!-- ... -->
```
The transformer applies multiple field modifieres to all fields of the given 
record. What modifiere will be applied is determined by a configuration variable,
that has the name of the modifiere and a modifier specific value.
```xml
    <!-- ... -->
            <transformers>
                <transformer plugin="common">
                    <configuration>
                        <config key="<modifier-name>" value="<modifier-parameter>" />
                    </configuration>
                </transformer>
            </transformers>
    <!-- ... -->
```
## Modifiers
Here is a list of currently supported modifiers and their configuration options.
### add_field
This modifier adds a new field to the record. The configuration value is a colon 
separated list. The first element is the name of the new field. The second parameter
is the type of the new field. All fields are automatically calculated, there is no 
way to supply a user defined value.
#### Field functions
| Function Name | Parameters     | Description                                                                                                                               |
| :--- | :--- | :--- |
| `uuid`        | None           | The new field will be a String representing a v4 UUID (generated by the [uuid](https://crates.io/crates/uuid) crate).                                                    |
| `autoinc`     | None           | The new field will be an integer value, which is automatically incremented, beginning with 1. The type of the field is `i32`.             |
| `empty`       | None           | The new field will be an empty string.                                                                                                    |
| `value`       | `(any_value)`  | Returns the first argument provided as a String. Can be used to set a field to a literal string or an unquoted identifier.                  |
| `now`         | None   | Returns the current local date and time as a String. 

#### Example
```xml
    <config key="add_field" value="id:uuid" />
    <config key="add_field" value="number:autoinc" />
    <config key="add_field" value="timestamp.timeZone:value('Europe/Berlin')" />
```

### rename_field
This modifier renames an existing field. The configuration value is a colon 
separated list. The first element is the name of the existing field. The secod parameter
is the new name of the field.
#### Example
```xml
    <config key="rename_field" value="oldfieldname:newfieldname" />
```
### ignore_field
This modifier controls, which fields should be ignored in the resulting record.
When given, the fields in the list will not be included in the resulting record.
The configuration value is a comma separated list of field names.
#### Example
```xml
    <config key="ignore_field" value="field1,field2" />
```
In this case the fields with name `field1` or `field2` will **not** be part of the 
resulting record

### include_field
This modifier controls, which fields should be included in the resulting record.
When given, only fields in the list will be exported. The configuration value is 
a comma separated list of field names.
#### Example
```xml
    <config key="include_field" value="field1,field2" />
```
In this case only the field with name `field1` or `field2` will be part of the 
resulting record

### format_field
This modifier converts the original field value into a new format. The 
configuration value is a colon separated value. The first part is the fieldname,
the second part is the formatting function.
#### Formatting functions
| Function | Description |
| --- | --- |
| isodatetime | Takes a value in **UNIX time** (milliseconds since Jan 1st 1970) and replaces it with a string in **ISO 8601** format with date and time |
| isodate | Takes a value in **UNIX time** (milliseconds since Jan 1st 1970) and replaces it with a string in **ISO 8601** format with only date |
| unixtime | Takes a value in **ISO 8601** format and replaces it with UNIX time (milliseconds since Jan 1st 1970) |

#### Example
```xml
    <config key="format_field" value="created:isodatetime" />
    <config key="format_field" value="birthdate:isodate" />
    <config key="format_field" value="timestamp:unixtime" />
```

In the above examples the values would be converted as follows:
| Field | Original value | Resulting value |
| --- | --- | --- |
| created | 1672531200000 | 2023-01-01T00:00:00.000Z |
| birthdate | 1020304800000 | 2002-05-01 |
| timestamp | 2023-05-15T10:30:00.000Z | 1684146600000 |

# Mapper
This transformer is returned, when the `name` is `mapper`. 
```xml
    <!-- ... -->
            <transformers>
                <transformer plugin="common" name="mapper">
                    <!-- Configuration goes here -->
                <transformer>
            <transformers>
    <!-- ... -->
```
The configuration for the transformer is done in a separate XML file
```xml
    <!-- ... -->
            <transformers>
                <transformer plugin="common" name="mapper">
                    <configuration xml="mapper-config.xml" />
                <transformer>
            <transformers>
    <!-- ... -->
```
Here is a detailed documentation of the [Mapper transformer](mapper.md)


