<rite>
    <plugins>
        <plugin id="postgres" _path="$RITE_CONFIG_PATH/../target/debug" name="rite_postgres"/>
        <plugin id="common" _path="$RITE_CONFIG_PATH/../target/debug" name="rite_common"/>
        <plugin id="star-wars" _path="$RITE_CONFIG_PATH/../target/debug" name="rite_rest"/>
    </plugins>
    <processes>
        <process id="read-from-star-wars-api-write-2-postgres">
            <importer plugin="star-wars">
                <configuration>
                    <config key="url" value="https://swapi.info/api/films" />
                    <!-- <config key="url" value="https://swapi.dev/api/films" /> -->
                    <!-- <config key="records_field" value="results" /> -->
                </configuration>
            </importer>
            <transformers>
                <transformer plugin="common">
                    <configuration>
                        <config key="add_field" value="id:uuid" />
                        <config key="add_field" value="number:autoinc" />
                        <config key="rename_field" value="episode_id:episode" />
                        <config key="include_field" value="title,episode_id" />
                        <config key="ignore_field" value="opening_crawl,director,producer" />
                    </configuration>
                </transformer>
            </transformers>
            <exporters>
                <exporter plugin="common" name="console" />
                <exporter plugin="postgres">
                    <configuration xml="$RITE_CONFIG_PATH/star-wars-postgres.xml" />
                </exporter>
            </exporters>
        </process>
    </processes>
</rite>