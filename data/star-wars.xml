<rite>
    <plugins>
        <plugin id="postgres" name="rite_postgres"/>
        <plugin id="console" name="example_export"/>
        <plugin id="star-wars" name="rite_rest"/>
        <plugin id="common-transformers" name="rite_common_transformers"/>
    </plugins>
    <processes>
        <process id="read-from-star-wars-api-write-2-postgres">
            <importer plugin="star-wars">
                <configuration>
                    <config key="url" value="https://swapi.info/api/films" />
                    <!-- <config key="url" value="https://swapi.dev/api/films" /> -->
                    <!-- <config key="records_field" value="results" /> -->
                </configuration>
            </importer>
            <transformers>
                <transformer plugin="common-transformers">
                    <configuration>
                        <config key="add_field" value="id:uuid" />
                        <config key="add_field" value="number:autoinc" />
                        <config key="rename_field" value="episode_id:episode" />
                        <config key="include_field" value="title,episode_id" />
                        <config key="ignore_field" value="opening_crawl,director,producer" />
                    </configuration>
                </transformer>
            </transformers>
            <exporters>
                <exporter plugin="console" name="console" />
                <exporter plugin="postgres">
                    <configuration xml="$RITE_CONFIG_PATH/star-wars-postgres.xml" />
                </exporter>
            </exporters>
        </process>
    </processes>
</rite>